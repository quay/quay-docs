:_content-type: REFERENCE
[id="config-envvar-worker-count"]
= Worker process counts

You can control the number of worker processes that handle incoming requests in {productname} using environment variables. These values define how many parallel processes are started to handle tasks for different components of the system, such as the registry, the web UI, and security scanning.

If not explicitly set, {productname} calculates the number of worker processes automatically based on the number of available CPU cores. While this dynamic scaling can optimize performance on larger machines, it may also lead to unnecessary resource usage in smaller or more controlled environments.

In {productname-ocp} deployments, the Operator sets the following default values:

* `WORKER_COUNT_REGISTRY`: 8
* `WORKER_COUNT_WEB`: 4
* `WORKER_COUNT_SECSCAN`: 2

.Worker count configuration variables
[cols="3a,1a,2a",options="header"]
|===
| Variable | Type | Description
| **WORKER_COUNT** | Number | Global override for the number of worker processes across all components. +
 +
If set, this value applies to all component-specific worker counts unless they are explicitly overridden.
| **WORKER_COUNT_REGISTRY** | Number | Number of worker processes assigned to handle registry API traffic. +
 +
Recommended range: 8–64
| **WORKER_COUNT_WEB** | Number | Number of worker processes assigned to handle web UI and user interface requests. +
 +
Recommended range: 2–32
| **WORKER_COUNT_SECSCAN** | Number | Number of worker processes assigned to handle security scanning operations (e.g., Clair integration). +
 +
Because the Operator requests 2 vCPUs by default for this component, setting this value between 2 and 4 is generally safe. Higher values (e.g., 16) can be used in performance-sensitive environments.
|===

.Worker count configuration for standalone {productname} deployments
[source,yaml]
----
WORKER_COUNT: 10
WORKER_COUNT_REGISTRY: 16
WORKER_COUNT_WEB: 8
WORKER_COUNT_SECSCAN: 4
----

.Worker count configuration for {productname-ocp}
[source,yaml]
----
env:
  - name: WORKER_COUNT
    value: "10"
  - name: WORKER_COUNT_REGISTRY
    value: "16"
  - name: WORKER_COUNT_WEB
    value: "8"
  - name: WORKER_COUNT_SECSCAN
    value: "4"
----

[[config-fields-misc]]
= Miscellaneous configuration fields


.Miscellaneous configuration fields
[cols="3a,1a,2a",options="header"]
|===
| Field | Type | Description
| **ALLOW_PULLS_WITHOUT_STRICT_LOGGING** | String | If true, pulls will still succeed even if the pull audit log entry cannot be written . This is useful if the database is in a read-only state and it is desired for pulls to continue during that time. +
 +
 **Default:**  False
| **AVATAR_KIND** | String | The types of avatars to display, either generated inline (local) or Gravatar (gravatar) +
 +
 **Values:** local, gravatar
| **BROWSER_API_CALLS_XHR_ONLY** | Boolean |  If enabled, only API calls marked as being made by an XHR will be allowed from browsers +
 +
**Default:** True
| **DEFAULT_NAMESPACE_MAXIMUM_BUILD_COUNT** | Number | The default maximum number of builds that can be queued in a namespace. +
 +
**Default:** None
| **ENABLE_HEALTH_DEBUG_SECRET** | String |  If specified, a secret that can be given to health endpoints to see full debug info when not authenticated as a superuser
| **EXTERNAL_TLS_TERMINATION** | Boolean | Set to `true` if TLS is supported, but terminated at a layer before Quay. Set to `false` when Quay is running with its own SSL certificates and receiving TLS traffic directly. 
| **FRESH_LOGIN_TIMEOUT** | String |  The time after which a fresh login requires users to re-enter their password +
 +
**Example:** `5m`
| **HEALTH_CHECKER** | String | The configured health check +
 +
**Example:** `('RDSAwareHealthCheck', {'access_key': 'foo', 'secret_key': 'bar'})`
| **PROMETHEUS_NAMESPACE** | String | The prefix applied to all exposed Prometheus metrics +
 +
**Default:** `quay`
| **PUBLIC_NAMESPACES** | Array of String | If a namespace is defined in the public namespace list, then it will appear on *all* users' repository list pages, regardless of whether the user is a member of the namespace. Typically, this is used by an enterprise customer in configuring a set of "well-known" namespaces.
| **REGISTRY_STATE**  | String |  The state of the registry +
 +
**Values:** `normal` or `read-only`
| **SEARCH_MAX_RESULT_PAGE_COUNT** | Number | Maximum number of pages the user can paginate in search before they are limited +
 +
**Default:** 10
| **SEARCH_RESULTS_PER_PAGE** | Number | Number of results returned per page by search page +
 +
**Default:** 10
| **V1_PUSH_WHITELIST** | Array of String | The array of namespace names that support V1 push if FEATURE_RESTRICTED_V1_PUSH is set to true
| **V2_PAGINATION_SIZE**  | Number | The number of results returned per page in V2 registry APIs +
 +
 **Default:** 50
| **WEBHOOK_HOSTNAME_BLACKLIST** | Array of String | The set of hostnames to disallow from webhooks when validating, beyond localhost
| **CREATE_PRIVATE_REPO_ON_PUSH** | Boolean | Whether new repositories created by push are set to private visibility +
 +
**Default:** True
| **CREATE_NAMESPACE_ON_PUSH** | Boolean | Whether new push to a non-existent organization creates it +
 +
**Default:** False
| **NON_RATE_LIMITED_NAMESPACES**  | Array of String | If rate limiting has been enabled using `FEATURE_RATE_LIMITS`,  you can override it for specific namespace that require unlimited access.

| xref:reference-miscellaneous-v2-ui[**FEATURE_UI_V2**] | Boolean | When set, allows users to try the beta UI environment. 

*Default:* `True`
|===

[id="miscellaneous-config-field-reference"]
== Miscellaneous configuration field references 

Use the following references to update your `config.yaml` file with the desired configuration field. 

[id="reference-miscellaneous-v2-ui"]
=== v2 user interface configuration

With `FEATURE_UI_V2` enabled, you can toggle between the current version of the user interface and the new version of the user interface. 

[IMPORTANT]
====
* This UI is currently in beta and subject to change. In its current state, users can only create, view, and delete organizations, repositories, and image tags. 
* When running {productname} in the old UI, timed-out sessions would require that the user input their password again in the pop-up window. With the new UI, users are returned to the main page and required to input their username and password credentials. This is a known issue and will be fixed in a future version of the new UI. 
* There is a discrepancy in how image manifest sizes are reported between the legacy UI and the new UI. In the legacy UI, image manifests were reported in mebibytes. In the new UI, {productname} uses the standard definition of megabyte (MB) to report image manifest sizes. 
====

.Procedure 

. In your deployment's `config.yaml` file, add the `FEATURE_UI_V2` parameter and set it to `true`, for example: 
+
[source,yaml]
----
---
FEATURE_TEAM_SYNCING: false
FEATURE_UI_V2: true
FEATURE_USER_CREATION: true
---
----

. Log in to your {productname} deployment. 

. In the navigation pane of your {productname} deployment, you are given the option to toggle between *Current UI* and *New UI*. Click the toggle button to set it to new UI, and then click *Use Beta Environment*, for example: 
+
image:38-ui-toggle.png[{productname} 3.8 UI toggle]

[id="creating-new-organization-v2-ui"]
==== Creating a new organization in the {productname} 3.8 beta UI 

.Prerequisites 

* You have toggled your {productname} deployment to use the 3.8 beta UI. 

Use the following procedure to create an organization using the {productname} 3.8 beta UI.

.Procedure 

. Click *Organization* in the navigation pane. 

. Click *Create Organization*.

. Enter an *Organization Name*, for example, `testorg`. 

. Click *Create*. 

Now, your example organization should populate under the *Organizations* page. 

[id="deleting-organization-v2"]
==== Deleting an organization using the {productname} 3.8 beta UI

Use the following procedure to delete an organization using the {productname} 3.8 beta UI.

.Procedure 

. On the *Organizations* page, select the name of the organization you want to delete, for example, `testorg`.

. Click the *More Actions* drop down menu. 

. Click *Delete*. 
+
[NOTE]
====
On the *Delete* page, there is a *Search* input box. With this box, users can search for specific organizations to ensure that they are properly scheduled for deletion. For example, if a user is deleting 10 organizations and they want to ensure that a specific organization was deleted, they can use the *Search* input box to confirm said organization is marked for deletion. 
====

. Confirm that you want to permanently delete the organization by typing *confirm* in the box. 

. Click *Delete*. 

After deletion, you are returned to the *Organizations* page. 

[NOTE]
====
You can delete more than one organization at a time by selecting multiple organizations, and then clicking *More Actions* -> *Delete*. 
====

[id="creating-new-repository-v2"]
==== Creating a new repository using the {productname} 3.8 beta UI

Use the following procedure to create a repository using the {productname} 3.8 beta UI.

.Procedure

. Click *Repositories* on the navigation pane. 

. Click *Create Repository*. 

. Select a namespace, for example, *quayadmin*, and then enter a *Repository name*, for example, `testrepo`. 

. Click *Create*. 

Now, your example repository should populate under the *Repositories* page. 

[id="deleting-repository-v2"]
==== Deleting a repository using the {productname} 3.8 beta UI

.Prerequisites 

* You have created a repository. 

.Procedure

. On the *Repositories* page of the {productname} 3.8 beta UI, click the name of the image you want to delete, for example, `quay/admin/busybox`. 

. Click the *More Actions* drop-down menu. 

. Click *Delete*. 
+
[NOTE]
====
If desired, you could click *Make Public* or *Make Private*. 
====

. Type *confirm* in the box, and then click *Delete*. 

. After deletion, you are returned to the *Repositories* page. 

[id="pushing-image-v2"]
==== Pushing an image to the {productname} 3.8 beta UI

Use the following procedure to push an image to the {productname} 3.8 beta UI.

.Procedure

. Pull a sample image from an external registry: 
+
[source,terminal]
----
$ podman pull busybox
----

. Tag the image:
+
[source,terminal]
----
$ podman tag docker.io/library/busybox quay-server.example.com/quayadmin/busybox:test
----

. Push the image to your {productname} registry:
+
[source,terminal]
----
$ podman push quay-server.example.com/quayadmin/busybox:test
----

. Navigate to the *Repositories* page on the {productname} UI and ensure that your image has been properly pushed. 

. You can check the security details by selecting your image tag, and then navigating to the *Security Report* page. 

[id="deleting-image-v2"]
==== Deleting an image using the {productname} 3.8 beta UI

Use the following procedure to delete an image using the{productname} 3.8 beta UI.

.Prerequisites 

* You have pushed an image to your {productname} registry. 

.Procedure 

. On the *Repositories* page of the {productname} 3.8 beta UI, click the name of the image you want to delete, for example, `quay/admin/busybox`. 

. Click the *More Actions* drop-down menu. 

. Click *Delete*. 
+
[NOTE]
====
If desired, you could click *Make Public* or *Make Private*. 
====

. Type *confirm* in the box, and then click *Delete*. 

. After deletion, you are returned to the *Repositories* page. 

[id="enabling-legacy-ui"]
==== Enabling the {productname} legacy UI

. In the navigation pane of your {productname} deployment, you are given the option to toggle between *Current UI* and *New UI*. Click the toggle button to set it to *Current UI*. 
+
image:38-ui-toggle.png[{productname} 3.8 UI toggle]
 

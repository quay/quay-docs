:_mod-docs-content-type: CONCEPT
[id="operator-unmanaged-postgres"]
= Using an external PostgreSQL database

[role="_abstract"]
Using an external PostgreSQL database with {productname} lets you manage your own database infrastructure instead of using the Operator-managed database. You must ensure that required configuration and extensions, such as `pg_trgm`, are in place before deployment. 

[IMPORTANT]
====
Do not share the same PostgreSQL database between {productname} and Clair deployments. Each service must use its own database instance. 
Sharing databases with other workloads is also not supported, because connection-intensive components such as {productname} and Clair can quickly exceed PostgreSQL's connection limits. 

Connection poolers such as *pgBouncer* are not supported with {productname} or Clair.
====

When managing your own PostgreSQL database for use with {productname}, the following best practices are recommended:

* **`pg_trgm` extenion:* The `pg_trgm` extension must be enabled on the database for a successful deployment.
* **Backups:** Perform regular database backups using PostgreSQL-native tools or your existing backup infrastructure. The {productname} Operator does not manage database backups.
* **Restores:** When restoring a backup, ensure that all {productname} pods are stopped before beginning the restore process.
* **Storage sizing:** When using the Operator-managed PostgreSQL database, the default storage allocation is 50 GiB. For external databases, you must ensure sufficient storage capacity for your environment, as the Operator does not handle volume resizing.
* **Monitoring:** Monitor disk usage, connection limits, and query performance to prevent outages caused by resource exhaustion.
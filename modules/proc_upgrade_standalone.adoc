:_mod-docs-content-type: PROCEDURE
[id="standalone-upgrade"]
= Standalone upgrade

In general, single-step upgrades from prior (N-2, N-3) minor versions. This helps simplify the upgrade procedure for customers on older releases. The following upgrade paths are supported for {productname} {producty}:

* 3.13.z -> {producty}
* 3.14.z -> {producty}
* 3.15.z -> {producty}

Upgrading to {producty} from releases older than those listed above is unsupported. This helps ensure that any necessary database migrations are done correctly and in the right order during the upgrade.

For users wanting to upgrade the {productname} Operator, see link:https://access.redhat.com/documentation/en-us/red_hat_quay/{producty}/html-single/upgrade_red_hat_quay/index#upgrading_quay_by_upgrading_the_quay_operator[Upgrading the {productname} Operator Overview].

This document describes the steps needed to perform each individual upgrade. Determine your current version and then follow the steps in sequential order, starting with your current version and working up to your desired target version.

* link:https://access.redhat.com/documentation/en-us/red_hat_quay/{producty}/html-single/upgrade_red_hat_quay/index#upgrade_to_3_16_z_from_3_15_z[Upgrade to 3.16.z from 3.15.z]
* link:https://access.redhat.com/documentation/en-us/red_hat_quay/{producty}/html-single/upgrade_red_hat_quay/index#upgrade_to_3_16_z_from_3_14_z[Upgrade to 3.16.z from 3.14.z]
* link:https://access.redhat.com/documentation/en-us/red_hat_quay/{producty}/html-single/upgrade_red_hat_quay/index#upgrade_to_3_16_z_from_3_13_z[Upgrade to 3.16.z from 3.13.z]

////
* link:https://access.redhat.com/documentation/en-us/red_hat_quay/{producty}/html-single/upgrade_red_hat_quay/index#upgrade_to_3_15_z_from_3_14_z[Upgrade to 3.15.z from 3.14.z]
* link:https://access.redhat.com/documentation/en-us/red_hat_quay/{producty}/html-single/upgrade_red_hat_quay/index#upgrade_to_3_15_z_from_3_13_z[Upgrade to 3.15.z from 3.13.z]
* link:https://access.redhat.com/documentation/en-us/red_hat_quay/{producty}/html-single/upgrade_red_hat_quay/index#upgrade_to_3_15_z_from_3_12_z[Upgrade to 3.15.z from 3.12.z]
////

See the link:https://access.redhat.com/documentation/en-us/red_hat_quay/{producty}/html-single/red_hat_quay_release_notes/index[{productname} Release Notes] for information on features for individual releases.

The general procedure for a manual upgrade consists of the following steps:

. Stop the `Quay` and `Clair` containers.
. Backup the database and image storage (optional but recommended).
. Start Clair using the new version of the image.
. Wait until Clair is ready to accept connections before starting the new version of {productname}.

[id="accessing-images"]
== Accessing images

{productname} image from version 3.4.0 and later are available from link:https://registry.redhat.io[registry.redhat.io] and
link:https://registry.access.redhat.com[registry.access.redhat.com], with authentication set up as described in link:https://access.redhat.com/RegistryAuthentication[Red Hat Container Registry Authentication].

== Upgrade to {producty} from 3.15.z

.Target images

* **Quay:** {productrepo}/{quayimage}:{producty}
ifdef::downstream[]
* **Clair:** {productrepo}/{clairimage}:{producty}
endif::downstream[]
ifdef::upstream[]
* **Clair:** {productrepo}/{clairimage}:{clairproductminv}
endif::upstream[]
* **PostgreSQL:** {postgresimage}
* **Redis:** {redisimage}
* **Clair-PosgreSQL:** {postgresimage}

== Upgrade to {producty} from 3.14.z

.Target images

* **Quay:** {productrepo}/{quayimage}:{producty}
ifdef::downstream[]
* **Clair:** {productrepo}/{clairimage}:{producty}
endif::downstream[]
ifdef::upstream[]
* **Clair:** {productrepo}/{clairimage}:{clairproductminv}
endif::upstream[]
* **PostgreSQL:** {postgresimage}
* **Redis:** {redisimage}
* **Clair-PosgreSQL:** {postgresimage}

== Upgrade to {producty} from 3.13.z

.Target images

* **Quay:** {productrepo}/{quayimage}:{producty}
ifdef::downstream[]
* **Clair:** {productrepo}/{clairimage}:{producty}
endif::downstream[]
ifdef::upstream[]
* **Clair:** {productrepo}/{clairimage}:{clairproductminv}
endif::upstream[]
* **PostgreSQL:** {postgresimage}
* **Redis:** {redisimage}
* **Clair-PosgreSQL:** {postgresimage}5